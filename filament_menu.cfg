[menu __main __filament __autoload]
type: command
name: Auto Load
gcode:
    SAVE_GCODE_STATE NAME=__filament__load
    LOAD
    RESTORE_GCODE_STATE NAME=__filament__load

[menu __main __filament __autounload]
type: command
name: Auto Unload
gcode:
    SAVE_GCODE_STATE NAME=__filament__unload
    UNLOAD
    RESTORE_GCODE_STATE NAME=__filament__unload

[menu __main __filament __purge]
type: command
name: Auto Purge
gcode:
    SAVE_GCODE_STATE NAME=__filament__purge
    PURGE
    RESTORE_GCODE_STATE NAME=__filament__purge

[menu __main __filament __resume]
type: command
enable: {printer.print_stats.state == "paused"}
name: Resume printing
gcode:
    {% if printer.print_stats.state == "paused" %}
        {% if "pause_resume" in printer %}
            RESUME
        {% else %}
            M24
        {% endif %}
        _SOUND_YES  
    {% else %}
        _SOUND_NO
    {% endif %}

[menu __main __filament __pause]
type: command
enable: {printer.print_stats.state != "paused"}
name: Pause printing
gcode:
    {% if printer.print_stats.state != "paused" %}
        {% if "pause_resume" in printer %}
            PAUSE
        {% else %}
            M24
        {% endif %}
        _SOUND_YES  
    {% else %}
        _SOUND_NO
    {% endif %}